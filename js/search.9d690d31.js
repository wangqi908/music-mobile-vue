(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["search"],{1245:function(e,t,n){},"129f":function(e,t){e.exports=Object.is||function(e,t){return e===t?0!==e||1/e===1/t:e!=e&&t!=t}},"14c3":function(e,t,n){var c=n("c6b6"),a=n("9263");e.exports=function(e,t){var n=e.exec;if("function"===typeof n){var r=n.call(e,t);if("object"!==typeof r)throw TypeError("RegExp exec method returned something other than an Object or null");return r}if("RegExp"!==c(e))throw TypeError("RegExp#exec called on incompatible receiver");return a.call(e,t)}},"25f7":function(e,t,n){"use strict";n("1245")},"2d5a":function(e,t,n){"use strict";n("302e")},"302e":function(e,t,n){},"3d82":function(e,t,n){"use strict";n("bf66")},"3fed":function(e,t,n){},5565:function(e,t,n){"use strict";n("c107")},"76c7":function(e,t,n){"use strict";n("3fed")},"7f65":function(e,t,n){},"841c":function(e,t,n){"use strict";var c=n("d784"),a=n("825a"),r=n("1d80"),o=n("129f"),i=n("14c3");c("search",1,(function(e,t,n){return[function(t){var n=r(this),c=void 0==t?void 0:t[e];return void 0!==c?c.call(t,n):new RegExp(t)[e](String(n))},function(e){var c=n(t,e,this);if(c.done)return c.value;var r=a(e),u=String(this),s=r.lastIndex;o(s,0)||(r.lastIndex=0);var l=i(r,u);return o(r.lastIndex,s)||(r.lastIndex=s),null===l?-1:l.index}]}))},9263:function(e,t,n){"use strict";var c=n("ad6d"),a=n("9f7f"),r=RegExp.prototype.exec,o=String.prototype.replace,i=r,u=function(){var e=/a/,t=/b*/g;return r.call(e,"a"),r.call(t,"a"),0!==e.lastIndex||0!==t.lastIndex}(),s=a.UNSUPPORTED_Y||a.BROKEN_CARET,l=void 0!==/()??/.exec("")[1],b=u||l||s;b&&(i=function(e){var t,n,a,i,b=this,d=s&&b.sticky,O=c.call(b),f=b.source,j=0,v=e;return d&&(O=O.replace("y",""),-1===O.indexOf("g")&&(O+="g"),v=String(e).slice(b.lastIndex),b.lastIndex>0&&(!b.multiline||b.multiline&&"\n"!==e[b.lastIndex-1])&&(f="(?: "+f+")",v=" "+v,j++),n=new RegExp("^(?:"+f+")",O)),l&&(n=new RegExp("^"+f+"$(?!\\s)",O)),u&&(t=b.lastIndex),a=r.call(d?n:b,v),d?a?(a.input=a.input.slice(j),a[0]=a[0].slice(j),a.index=b.lastIndex,b.lastIndex+=a[0].length):b.lastIndex=0:u&&a&&(b.lastIndex=b.global?a.index+a[0].length:t),l&&a&&a.length>1&&o.call(a[0],n,(function(){for(i=1;i<arguments.length-2;i++)void 0===arguments[i]&&(a[i]=void 0)})),a}),e.exports=i},"9f7f":function(e,t,n){"use strict";var c=n("d039");function a(e,t){return RegExp(e,t)}t.UNSUPPORTED_Y=c((function(){var e=a("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),t.BROKEN_CARET=c((function(){var e=a("^r","gy");return e.lastIndex=2,null!=e.exec("str")}))},a15b:function(e,t,n){"use strict";var c=n("23e7"),a=n("44ad"),r=n("fc6a"),o=n("a640"),i=[].join,u=a!=Object,s=o("join",",");c({target:"Array",proto:!0,forced:u||!s},{join:function(e){return i.call(r(this),void 0===e?",":e)}})},ac1f:function(e,t,n){"use strict";var c=n("23e7"),a=n("9263");c({target:"RegExp",proto:!0,forced:/./.exec!==a},{exec:a})},bf66:function(e,t,n){},c107:function(e,t,n){},cbcb:function(e,t,n){"use strict";n("7f65")},d784:function(e,t,n){"use strict";n("ac1f");var c=n("6eeb"),a=n("d039"),r=n("b622"),o=n("9263"),i=n("9112"),u=r("species"),s=!a((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")})),l=function(){return"$0"==="a".replace(/./,"$0")}(),b=r("replace"),d=function(){return!!/./[b]&&""===/./[b]("a","$0")}(),O=!a((function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var n="ab".split(e);return 2!==n.length||"a"!==n[0]||"b"!==n[1]}));e.exports=function(e,t,n,b){var f=r(e),j=!a((function(){var t={};return t[f]=function(){return 7},7!=""[e](t)})),v=j&&!a((function(){var t=!1,n=/a/;return"split"===e&&(n={},n.constructor={},n.constructor[u]=function(){return n},n.flags="",n[f]=/./[f]),n.exec=function(){return t=!0,null},n[f](""),!t}));if(!j||!v||"replace"===e&&(!s||!l||d)||"split"===e&&!O){var p=/./[f],h=n(f,""[e],(function(e,t,n,c,a){return t.exec===o?j&&!a?{done:!0,value:p.call(t,n,c)}:{done:!0,value:e.call(n,t,c)}:{done:!1}}),{REPLACE_KEEPS_$0:l,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:d}),g=h[0],m=h[1];c(String.prototype,e,g),c(RegExp.prototype,f,2==t?function(e,t){return m.call(e,this,t)}:function(e){return m.call(e,this)})}b&&i(RegExp.prototype[f],"sham",!0)}},e9a0:function(e,t,n){"use strict";n.r(t);var c=n("7a23"),a=Object(c["S"])("data-v-29cf41c4");Object(c["y"])("data-v-29cf41c4");var r={class:"search-box"};Object(c["w"])();var o=a((function(e,t,n,a,o,i){var u=Object(c["E"])("SearchInput"),s=Object(c["E"])("Hot"),l=Object(c["E"])("History"),b=Object(c["E"])("Suggest"),d=Object(c["E"])("SongList");return Object(c["v"])(),Object(c["h"])("div",null,[Object(c["j"])("div",r,[Object(c["j"])(u)]),e.searchValue?Object(c["i"])("",!0):(Object(c["v"])(),Object(c["h"])(s,{key:0})),e.searchValue?Object(c["i"])("",!0):(Object(c["v"])(),Object(c["h"])(l,{key:1})),"SUGGEST"===e.actionType?(Object(c["v"])(),Object(c["h"])(b,{key:2})):Object(c["i"])("",!0),"SONG_LIST"===e.actionType?(Object(c["v"])(),Object(c["h"])(d,{key:3})):Object(c["i"])("",!0)])})),i=n("0613"),u=Object(c["S"])("data-v-41dd06cc");Object(c["y"])("data-v-41dd06cc");var s={class:"input-wrap"},l=Object(c["j"])("span",{class:"iconfont icon-search search-icon"},null,-1),b=Object(c["j"])("span",{class:"iconfont icon-guanbi1"},null,-1);Object(c["w"])();var d=u((function(e,t,n,a,r,o){return Object(c["v"])(),Object(c["h"])("div",s,[l,Object(c["j"])("input",{value:e.searchValue,onInput:t[1]||(t[1]=function(){return e.valueChange&&e.valueChange.apply(e,arguments)}),onCompositionstart:t[2]||(t[2]=function(){return e.handleCompositionStart&&e.handleCompositionStart.apply(e,arguments)}),onCompositionend:t[3]||(t[3]=function(){return e.handleCompositionEnd&&e.handleCompositionEnd.apply(e,arguments)}),onFocus:t[4]||(t[4]=function(){return e.handleFocus&&e.handleFocus.apply(e,arguments)}),onKeyup:t[5]||(t[5]=Object(c["Q"])((function(){return e.submit&&e.submit.apply(e,arguments)}),["enter"])),placeholder:"搜索歌曲、歌手、专辑",type:"text",class:"input"},null,40,["value"]),e.searchValue?(Object(c["v"])(),Object(c["h"])("div",{key:0,class:"clean",onClick:t[6]||(t[6]=function(){return e.cleanValue&&e.cleanValue.apply(e,arguments)})},[b])):Object(c["i"])("",!0)])})),O=n("e08c"),f=function(){var e=Object(c["A"])(!1);function t(t){var n=t.target,c=n.value;e.value||""===c||i["b"].commit(O["a"].MODULE+O["a"].CHANGE_SEARCH,c)}function n(){e.value=!0}function a(n){e.value=!1,t(n)}function r(){i["b"].commit(O["a"].MODULE+O["a"].CHANGE_SEARCH,""),i["b"].commit(O["a"].MODULE+O["a"].CHANGE_ACTION_TYPE,"")}function o(){i["b"].commit(O["a"].MODULE+O["a"].CHANGE_ACTION_TYPE,"SUGGEST")}function u(e){var t=e.target,n=t.value;""!==n&&(t.blur(),i["b"].commit(O["a"].MODULE+O["a"].CHANGE_SEARCH,n),i["b"].commit(O["a"].MODULE+O["a"].CHANGE_ACTION_TYPE,"SONG_LIST"))}return{valueChange:t,submit:u,handleFocus:o,handleCompositionStart:n,handleCompositionEnd:a,cleanValue:r}},j=Object(c["l"])({setup:function(){var e=Object(i["c"])(),t=Object(c["f"])((function(){return e.state.searchModule.searchValue})),n=f(),a=n.valueChange,r=n.submit,o=n.handleFocus,u=n.handleCompositionStart,s=n.handleCompositionEnd,l=n.cleanValue;return{searchValue:t,valueChange:a,submit:r,handleFocus:o,handleCompositionStart:u,handleCompositionEnd:s,cleanValue:l}}});n("5565");j.render=d,j.__scopeId="data-v-41dd06cc";var v=j,p=Object(c["S"])("data-v-40645e82");Object(c["y"])("data-v-40645e82");var h={key:0,class:"suggest-component"},g={key:0,class:"suggest-box"},m=Object(c["j"])("span",{class:"iconfont icon-search"},null,-1);Object(c["w"])();var E=p((function(e,t,n,a,r,o){var i=Object(c["E"])("Loading");return e.searchValue?(Object(c["v"])(),Object(c["h"])("div",h,[Object(c["j"])("div",{class:"tip",onClick:t[1]||(t[1]=function(t){return e.handleSearchValue(e.searchValue)})},' 正在搜索"'+Object(c["I"])(e.searchValue)+'" ',1),e.loading?(Object(c["v"])(),Object(c["h"])(i,{key:1})):(Object(c["v"])(),Object(c["h"])("ul",g,[(Object(c["v"])(!0),Object(c["h"])(c["a"],null,Object(c["C"])(e.list,(function(t,n){return Object(c["v"])(),Object(c["h"])("li",{key:t+n,onClick:function(n){return e.handleSearchValue(t)},class:"suggest-item"},[m,Object(c["j"])("span",null,Object(c["I"])(t),1)],8,["onClick"])})),128))]))])):Object(c["i"])("",!0)})),y=n("5530"),x=n("1da1"),C=(n("96cf"),n("d81d"),n("79f6"));function S(e){return _.apply(this,arguments)}function _(){return _=Object(x["a"])(regeneratorRuntime.mark((function e(t){var n,c,a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n={list:[]},e.next=3,Object(C["h"])({keywords:t,type:"mobile"});case 3:return c=e.sent,a=c.data.result.allMatch||[],r=a.map((function(e){return e.keyword})),n.list=r,e.abrupt("return",Object(y["a"])({},n));case 8:case"end":return e.stop()}}),e)}))),_.apply(this,arguments)}var I=n("d257"),k=Object(c["l"])({setup:function(){var e=Object(c["z"])({list:[],loading:!1}),t=Object(i["c"])(),n=Object(c["f"])((function(){return t.state.searchModule.searchValue})),a=Object(c["f"])((function(){return t.state.searchModule.actionType}));function r(e){return o.apply(this,arguments)}function o(){return o=Object(x["a"])(regeneratorRuntime.mark((function t(n){var c,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(""!==n&&"SUGGEST"===a.value){t.next=3;break}return e.list=[],t.abrupt("return");case 3:return e.loading=!0,t.prev=4,t.next=7,S(n);case 7:c=t.sent,r=c.list,e.list=r,e.loading=!1,t.next=16;break;case 13:t.prev=13,t.t0=t["catch"](4),e.loading=!1;case 16:case"end":return t.stop()}}),t,null,[[4,13]])}))),o.apply(this,arguments)}function u(e){t.commit(O["a"].MODULE+O["a"].CHANGE_SEARCH,e),t.commit(O["a"].MODULE+O["a"].CHANGE_ACTION_TYPE,"SONG_LIST")}return""!==n.value&&r(n.value),Object(c["M"])(n,Object(I["a"])(r,250)),Object(y["a"])({searchValue:n,handleSearchValue:u},Object(c["K"])(e))}});n("cbcb");k.render=E,k.__scopeId="data-v-40645e82";var w=k,T=Object(c["S"])("data-v-0013ea53");Object(c["y"])("data-v-0013ea53");var R={class:"song-list"},A={key:0,class:"bottom-tip"},L={key:1,class:"bottom-tip"};Object(c["w"])();var N=T((function(e,t,n,a,r,o){var i=Object(c["E"])("SongItem"),u=Object(c["E"])("Loading");return Object(c["v"])(),Object(c["h"])(c["a"],null,[Object(c["j"])("div",R,[(Object(c["v"])(!0),Object(c["h"])(c["a"],null,Object(c["C"])(e.songList,(function(e){return Object(c["v"])(),Object(c["h"])(i,{info:e,key:e.id,showAlbum:""},null,8,["info"])})),128)),!e.hasMore&&e.offset>1?(Object(c["v"])(),Object(c["h"])("div",A,"已经到底了")):Object(c["i"])("",!0),e.hasMore||0!==e.songList.length?Object(c["i"])("",!0):(Object(c["v"])(),Object(c["h"])("div",L," 未查到信息 "))]),e.loading?(Object(c["v"])(),Object(c["h"])(u,{key:0})):Object(c["i"])("",!0)],64)})),H=n("2909"),M=(n("99af"),n("b0c0"),n("a15b"),function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(t){var n,c,a,r,o,i,u,s,l=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=l.length>1&&void 0!==l[1]?l[1]:1,c=l.length>2&&void 0!==l[2]?l[2]:30,Object(I["f"])("hot",t),a={keywords:t,limit:c,offset:n,type:1,timestamp:Date.now()},e.next=6,Object(C["g"])(a);case 6:return r=e.sent,o=r.data.result,i=o.songs||[],u=o.songCount,s=i.map((function(e){var t=e.ar.map((function(e){return e.name})),n=t.join("/"),c=e.id,a=e.name,r=e.al.name,o=0!==e.privilege.cp;return{artistName:n,id:c,name:a,albumName:r,copyright:o}})),e.abrupt("return",{list:s,songCount:u});case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),G=n("3617"),U=Object(c["l"])({components:{SongItem:G["c"]},setup:function(){var e=Object(c["z"])({hasMore:!0,loading:!1,offset:0,songList:[]}),t=Object(i["c"])(),n=Object(c["f"])((function(){return t.state.searchModule.searchValue}));function a(){return r.apply(this,arguments)}function r(){return r=Object(x["a"])(regeneratorRuntime.mark((function t(){var c,a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!1!==e.hasMore&&!0!==e.loading&&""!==n.value){t.next=2;break}return t.abrupt("return");case 2:return e.loading=!0,t.prev=3,t.next=6,M(n.value,e.offset);case 6:c=t.sent,a=c.list,r=c.songCount,e.songList=[].concat(Object(H["a"])(e.songList),Object(H["a"])(a)),e.loading=!1,e.songList.length>=r&&(e.songList.length=r,e.hasMore=!1),e.offset++,t.next=18;break;case 15:t.prev=15,t.t0=t["catch"](3),e.loading=!1;case 18:case"end":return t.stop()}}),t,null,[[3,15]])}))),r.apply(this,arguments)}function o(){var e=document.documentElement.scrollTop||document.body.scrollTop,t=document.documentElement.clientHeight||document.body.clientHeight,n=document.documentElement.scrollHeight||document.body.scrollHeight;e+t+20>=n&&a()}return Object(c["t"])((function(){a(),document.addEventListener("scroll",o)})),Object(c["u"])((function(){document.removeEventListener("scroll",o)})),Object(y["a"])({},Object(c["K"])(e))}});n("76c7");U.render=N,U.__scopeId="data-v-0013ea53";var V=U,D=(n("841c"),n("ac1f"),Object(c["S"])("data-v-4c78f52b"));Object(c["y"])("data-v-4c78f52b");var P={key:0,class:"search-hot"},K=Object(c["j"])("h3",{class:"title"}," 热门搜索 ",-1),Y={class:"list"};Object(c["w"])();var F=D((function(e,t,n,a,r,o){var i=Object(c["E"])("Loading");return e.hotKeywords.loading?(Object(c["v"])(),Object(c["h"])(i,{key:1})):(Object(c["v"])(),Object(c["h"])("div",P,[K,Object(c["j"])("ul",Y,[(Object(c["v"])(!0),Object(c["h"])(c["a"],null,Object(c["C"])(e.hotKeywords.list,(function(t,n){return Object(c["v"])(),Object(c["h"])("li",{class:"item",key:n,onClick:function(n){return e.search(t)}},Object(c["I"])(t),9,["onClick"])})),128))])]))})),$=Object(c["l"])({setup:function(){var e=Object(i["c"])();e.dispatch(O["a"].MODULE+O["a"].GET_HOT_KEYWORDS_ASYNC);var t=Object(c["f"])((function(){return e.state.searchModule.hotKeywords}));function n(t){e.commit(O["a"].MODULE+O["a"].CHANGE_SEARCH,t),e.commit(O["a"].MODULE+O["a"].CHANGE_ACTION_TYPE,"SONG_LIST")}return{hotKeywords:t,search:n}}});n("25f7");$.render=F,$.__scopeId="data-v-4c78f52b";var B=$,z=Object(c["S"])("data-v-4d547714");Object(c["y"])("data-v-4d547714");var J={class:"item"},Q=Object(c["j"])("span",{class:"iconfont icon-search search"},null,-1),W=Object(c["j"])("span",{class:"iconfont icon-guanbi1"},null,-1);Object(c["w"])();var X=z((function(e,t,n,a,r,o){return Object(c["v"])(!0),Object(c["h"])(c["a"],null,Object(c["C"])(e.list,(function(t){return Object(c["v"])(),Object(c["h"])("ul",{key:t.id},[Object(c["j"])("li",J,[Q,Object(c["j"])("span",{onClick:function(n){return e.search(t.value)},class:"name"},Object(c["I"])(t.value),9,["onClick"]),Object(c["j"])("div",{class:"clear",onClick:function(n){return e.clear(t.id)}},[W],8,["onClick"])])])})),128)})),q=Object(c["l"])({setup:function(){var e=Object(i["c"])(),t=Object(c["A"])([]);function n(){var e=Object(I["c"])("hot");t.value=e?e.reverse():[]}function a(e){Object(I["d"])("hot",e),n()}function r(t){e.commit(O["a"].MODULE+O["a"].CHANGE_SEARCH,t),e.commit(O["a"].MODULE+O["a"].CHANGE_ACTION_TYPE,"SONG_LIST")}return Object(c["t"])((function(){n()})),{clear:a,list:t,search:r}}});n("3d82");q.render=X,q.__scopeId="data-v-4d547714";var Z=q,ee=Object(c["l"])({components:{SearchInput:v,Suggest:w,SongList:V,Hot:B,History:Z},setup:function(){var e=Object(i["c"])(),t=Object(c["f"])((function(){return e.state.searchModule.actionType})),n=Object(c["f"])((function(){return e.state.searchModule.searchValue}));return{searchValue:n,actionType:t}}});n("2d5a");ee.render=o,ee.__scopeId="data-v-29cf41c4";t["default"]=ee}}]);